<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

  <title>pb-document test</title>

  <script src="../bower_components/webcomponentsjs/webcomponents-loader.js"></script>
  <script src="../bower_components/web-component-tester/browser.js"></script>
  <link rel="import" href="../dependencies-dev.html">
</head>
<body>

  <test-fixture id="PbDocumentTestFixture">
    <template>
      <pb-document id="document1" path="test/kant_rvernunft_1781.TEI-P5.xml" odd="dta" view="page"></pb-document>
    </template>
  </test-fixture>

  <script>
      suite('test-pb-document', () => {
          const doc = fixture('PbDocumentTestFixture');
          
          test('instantiating element', () => {
              assert.equal(doc.getFileName(), 'kant_rvernunft_1781.TEI-P5.xml');
          });
          
          test('check events', (done) => {
              const handler = (ev) => {
                  assert.equal(ev.detail.getFileName(), 'graves6.xml');
                  document.removeEventListener('pb-document', handler);
                  done();
              };
              document.addEventListener('pb-document', handler);
              
              doc.path = 'test/graves6.xml';
          });
      });


  </script>

</body>
</html>
